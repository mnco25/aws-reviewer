<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AWS CLF-C02 Reviewer v12.0</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #0f172a; 
            color: #f1f5f9;
            overflow: hidden; 
        }
        .mono { font-family: 'JetBrains Mono', monospace; }
        
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1e293b; }
        ::-webkit-scrollbar-thumb { background: #475569; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }

        .glass-panel {
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        .option-card {
            transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .option-card:active { transform: scale(0.99); }

        .anim-enter { animation: enter 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes enter {
            from { opacity: 0; transform: translateY(20px) scale(0.98); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        .category-pill { font-size: 0.65rem; letter-spacing: 0.05em; text-transform: uppercase; font-weight: 700; padding: 2px 8px; border-radius: 99px; }
        
        .minimal-input {
            background: transparent;
            border: none;
            border-bottom: 2px solid #334155;
            color: white;
            font-size: 3rem;
            font-weight: 700;
            text-align: center;
            width: 400px; 
            outline: none;
            transition: border-color 0.3s;
        }
        .minimal-input:focus { border-color: #3b82f6; }
        .minimal-input::placeholder { color: #475569; font-size: 1.5rem; transform: translateY(-8px); }
        .minimal-input::-webkit-outer-spin-button, .minimal-input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }

        .circular-chart { display: block; margin: 0 auto; max-width: 100%; max-height: 250px; }
        .circle-bg { fill: none; stroke: #1e293b; stroke-width: 2.5; }
        .circle { fill: none; stroke-width: 2.5; stroke-linecap: round; animation: progress 1s ease-out forwards; }
        @keyframes progress { 0% { stroke-dasharray: 0 100; } }
        
        .modal-overlay {
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            animation: fadeIn 0.2s ease-out;
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body class="h-screen w-screen flex flex-col items-center justify-center">

<div id="root" class="w-full h-full flex flex-col"></div>

<script type="text/babel">

    // --- UTILS: LOCAL STORAGE FOR HISTORY ---
    const STORAGE_KEY = 'aws_reviewer_history_v12';

    const getStoredHistory = () => {
        const stored = localStorage.getItem(STORAGE_KEY);
        return stored ? JSON.parse(stored) : [];
    };

    const saveHistory = (newHistory) => {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(newHistory));
    };

    // --- DATASET ---
    const RAW_DATA = [
        {id:1, c:1, q:"Elasticity is one of the AWS Cloud architecture principles. Which of the following is an example of Elasticity?", a:"Scale compute resources in and out, while only paying for the resources used"},
        {id:2, c:2, q:"You suspect that your AWS account is compromised, who will you report this to?", a:"AWS Support"},
        {id:3, c:4, q:"You are working as a System Administrator for your company and have been asked by your manager to prepare a report showing savings realized through the use EC2 Savings Plan. Which service will help you prepare this report?", a:"AWS Cost Explorer"},
        {id:4, c:2, q:"You need to use an AWS service to assess the security and compliance of your EC2 instances. Which of the following services should you use?", a:"AWS Inspector"},
        {id:5, c:1, q:"What are the three main models for cloud computing? (Select THREE)", a:"Infrastructure as a Service (IaaS), Platform as a Service (PaaS), Software as a Service (SaaS)"},
        {id:6, c:2, q:"Which of the below options are you responsible for when running an RDS database on AWS?", a:"Controlling access to the database"},
        {id:7, c:1, q:"What are design principles for performance efficiency in the cloud? (Select TWO)", a:"Experiment more often, Use serverless architectures"},
        {id:8, c:2, q:"Which of the following is the document used to grant permissions to users, groups, and roles?", a:"Policy"},
        {id:9, c:1, q:"Which of the following scenarios are examples of scaling an IT architecture vertically? (Select TWO)", a:"Resizing an EC2 instance type from T2.micro to T2.large for more CPU and memory power, Change the RDS instance type to the one which provides more CPU and memory"},
        {id:10, c:3, q:"A company wants to decouple their monolithic application. Which AWS service can help them to achieve this?", a:"Amazon SQS"},
        {id:11, c:4, q:"If you want access to all AWS Trusted Advisor checks, which of these support plans will provide that? (Select TWO)", a:"Enterprise, Business"},
        {id:12, c:2, q:"Which service can be used to create and provide trusted users with temporary security credentials that can control access to your AWS resources?", a:"AWS Security Token Service (STS)"},
        {id:13, c:4, q:"A company needs to view their AWS expenses and service usage over time in graphical form. Which AWS service will provide this information?", a:"AWS Cost Explorer"},
        {id:14, c:3, q:"Which of the following is a hybrid cloud storage with local caching service that allows on-premises applications to access data on AWS Cloud?", a:"AWS Storage Gateway"},
        {id:15, c:3, q:"A user has to migrate petabytes of data to AWS. Which service is MORE cost-effective and FASTER than transferring data over 100 Mbps internet connection?", a:"AWS Snowball"},
        {id:16, c:1, q:"How would you describe the value proposition of AWS Cloud? (Select TWO)", a:"Stopping guessing about Capacity, No long term commitments"},
        {id:17, c:2, q:"What tasks can only be done using root user credentials? (Select TWO)", a:"Create a CloudFront key pair, Register as a seller in the Reserved Instance Marketplace"},
        {id:18, c:4, q:"A company has developed a media transcoding application in AWS. The application is designed to recover gracefully from Amazon EC2 instance failures. Which one of the following types of instance would be the most cost-effective choice to use?", a:"Spot instances"},
        {id:19, c:2, q:"You are using your corporate directory to grant your users access to AWS services. What is this called?", a:"Federated Access"},
        {id:20, c:2, q:"You see resources in your AWS account that you don't remember creating. What should you do? (Select FOUR)", a:"Delete any unrecognized or unauthorised resources, Changes your AWS account root user password and the passwords of any IAM users, Rotate and delete all AWS access keys, Contact AWS support team"},
        {id:21, c:4, q:"A company is launching a new web application which will be attracting high traffic. As part of the Enterprise support plan, which of the following could provide them with architectural and scaling guidance?", a:"Infrastructure Event Management"},
        {id:22, c:4, q:"Which of the following Amazon EC2 pricing models automatically adjusts charges as your usage changes?", a:"Savings Plans"},
        {id:23, c:4, q:"A company has launched an image-sharing app and expects spiky and unpredictable traffic. Which is the MOST cost-effective instance pricing model?", a:"On-demand"},
        {id:24, c:1, q:"AWS recommends decoupling applications. What is the advantage of this approach?", a:"Reduce inter-dependencies so failures do not impact other components"},
        {id:25, c:2, q:"Under the Shared Responsibility Model, which of the below are you responsible for when storing data in S3? (Select TWO)", a:"Who has access to the S3 service, Who has access to the data you stored on the S3 bucket"},
        {id:26, c:3, q:"A company has developed an application and want to cache its data closer to users? Which of the following AWS services can they use?", a:"Amazon CloudFront"},
        {id:27, c:3, q:"What feature of the AWS Virtual Private Cloud (VPC) can you use to capture IP traffic going to and from network interfaces in your VPC?", a:"VPC Flow Logs"},
        {id:28, c:4, q:"A customer has a fault tolerant application running on an EC2 instance which frequently writes to persistent storage. Which AWS pricing model will provide the LOWEST costs for computing resources?", a:"Reserved Instances"},
        {id:29, c:3, q:"Which of the following are examples of AWS-Managed Services, where AWS is responsible for the operational and maintenance burdens of running the service? (Select THREE)", a:"Amazon DynamoDB, Amazon Redshift, AWS Lambda"},
        {id:30, c:2, q:"AWS Shield is the most cost-effective for protection against network and transport layer DDoS attacks.", a:"AWS Shield"},
        {id:31, c:4, q:"Your manager asks you to estimate monthly cost of AWS services the new application based on expected usage. What tool can you use to calculate?", a:"AWS Simple Monthly Calculator"},
        {id:32, c:2, q:"What is the AWS automated security assessment service that helps improve the security and compliance of applications deployed on AWS?", a:"AWS Inspector"},
        {id:33, c:3, q:"It is crucial to store database backup on a medium which is secure and makes database readily available. What is the most cost-effective storage option that provides immediate retrieval of your backups?", a:"Amazon S3"},
        {id:34, c:3, q:"A company is migrating their applications and databases to AWS Cloud with the aim of reducing cost as much as possible. Which of the following is the main factor to consider when choosing the instance type of services like Amazon RDS and Amazon Redshift?", a:"CPU and RAM utilization"},
        {id:35, c:2, q:"What is the recommended way to give your applications running in EC2 permission to make API requests to other AWS resources?", a:"Create an IAM User with appropriate permissions and assign it to the instance."},
        {id:36, c:3, q:"In AWS' Global Infrastructure, what are Edge Locations responsible for?", a:"Hosting CloudFront"},
        {id:37, c:4, q:"What is the minimum level of AWS support that provides 24x7 access to Cloud support engineers via phone, email and chat?", a:"Business Support"},
        {id:38, c:3, q:"Which of the following are true about Amazon Route 53? (Select TWO)", a:"It allows you to check the health of your resources, It provides a highly available and scalable DNS web service"},
        {id:39, c:2, q:"Which of the following AWS services control Authentication and Authorization within an AWS account?", a:"IAM"},
        {id:40, c:3, q:"Which of the following is an AWS database service that provides virtually unlimited throughput and storage?", a:"Amazon DynamoDB"},
        {id:41, c:3, q:"Which of the following are AWS Infrastructure automation tools? (Select TWO)", a:"AWS OpsWorks, AWS CloudFormation"},
        {id:42, c:3, q:"Which of the following enables you to set up a logically isolated section of your cloud?", a:"AWS VPC"},
        {id:43, c:2, q:"What are the change management tools that help AWS customers audit and monitor all resource changes in their AWS environment? (Select TWO)", a:"AWS CloudTrail, AWS Config"},
        {id:44, c:2, q:"What are access types for IAM user? (Select THREE)", a:"AWS SDK, Programmatic access via the command line, AWS Management Console access"},
        {id:45, c:2, q:"What are the default security credentials that are required to access the AWS management console for an IAM user account?", a:"Username and Password"},
        {id:46, c:1, q:"A company is looking for help in designing a new cloud application that adheres to AWS's best practices. Which of the following can provide guidance?", a:"Use the AWS Well-Architected Tool"},
        {id:47, c:2, q:"In AWS Well-Architected Framework, which of the following are components of the Security Pillar? (Select THREE)", a:"IAM, Infrastructure Protection, Detective Controls"},
        {id:48, c:1, q:"Which of the following is a practice to minimize dependencies between components and to avoid one point of failure?", a:"Loose coupling"},
        {id:49, c:3, q:"You are developing a distributed application which requires task coordination across all components. Which of the following AWS services will help with that?", a:"Amazon Simple Workflow Service (SWF)"},
        {id:50, c:4, q:"Which of the following activities may help reduce your AWS monthly costs?", a:"Enabling Amazon EC2 Auto Scaling for all of your workloads"},
        {id:51, c:1, q:"Which feature of the cloud eliminates the need to estimate future application usage?", a:"Scaling"},
        {id:52, c:3, q:"What is the easiest way to launch and manage a virtual private server in AWS?", a:"Amazon Lightsail"},
        {id:53, c:2, q:"Which of the following is AWS' managed DDoS protection service? (Select TWO)", a:"AWS Shield Advanced, AWS Shield"},
        {id:54, c:2, q:"You received a notification from AWS that your AWS resources or account might have been compromised. What should you do? (Select THREE)", a:"Delete any unrecognized or unauthorized resources, Delete any potentially compromised IAM users, Changes your AWS account root user password and the passwords of any IAM"},
        {id:55, c:1, q:"Deploying your EC2 instances across multiple AZs will help address which Cloud Concept?", a:"High Availability"},
        {id:56, c:2, q:"According to the AWS Customer Service Policy for Penetration testing, which of the following activities are not permitted?", a:"DNS zone walking"},
        {id:57, c:3, q:"Which of the following are examples of AWS-Managed Services? (Select THREE)", a:"AWS DynamoDB, AWS RDS, AWS ElastiCache"},
        {id:58, c:2, q:"At which two levels can you configure access control for S3? (Select TWO)", a:"Bucket, Objects"},
        {id:59, c:1, q:"Which of the following factors should be considered when determining the region in which AWS Resources will be provisioned? (Select TWO)", a:"Data sovereignty, Availability of particular service"},
        {id:60, c:4, q:"For AWS Enterprise support users, how does AWS help with infrastructure event management?", a:"AWS helps users plan for large-scale events such as product launches and marketing events"},
        {id:61, c:2, q:"Which of the following AWS Identity and Access Management best practices adds an extra layer of protection in addition to the default authentication mechanism of usernames and passwords?", a:"AWS Multi-Factor Authentication (MFA)"},
        {id:62, c:3, q:"A company is managing a message-broker themselves and want to move it to fully managed cloud service without rewriting the messaging code in their applications. Which AWS service can they use?", a:"Amazon MQ"},
        {id:63, c:3, q:"Your company has been experiencing issues with their MySQL database. They have decided to migrate their database to AWS so they do not have to spend time on managing backups, patching, disaster recovery and performance. Which of the following AWS service will help them implement this?", a:"Amazon RDS"},
        {id:64, c:2, q:"What tasks can only be done using root user credentials - Close account and Change support plan? (Select TWO)", a:"Close your AWS account, Change the AWS support plan"},
        {id:65, c:2, q:"What are AWS' recommendations regarding root access keys?", a:"Delete access keys"},
        {id:66, c:1, q:"One of the design principles in the Reliability pillar of AWS Well-Architected Framework is 'Scale horizontally to increase aggregate system availability'. How can we achieve this? (Select TWO)", a:"Distribute requests across multiple, smaller resources, Replace one large resource with multiple small resources"},
        {id:67, c:3, q:"What service does AWS offer to simplify the connection management among hundreds of VPCs in multiple AWS regions?", a:"AWS Transit Gateway"},
        {id:68, c:3, q:"Which of the following cache engines are supported by Amazon ElasticCache? (Select TWO)", a:"Memcached, Redis"},
        {id:69, c:1, q:"You have launched your application to international users, but international users are complaining of high latency. What is the AWS characteristic that can help improve your international users experience?", a:"Global reach"},
        {id:70, c:1, q:"Which of the following are principles of sound cloud design? (Select TWO)", a:"Scalability, Disposable resources instead of fixed servers"},
        {id:71, c:3, q:"What is the AWS service that enables AWS architects to manage infrastructure as code?", a:"AWS CloudFormation"},
        {id:72, c:4, q:"A company wants to consolidate billing from all of their AWS accounts to benefit from single payment method for all of their AWS accounts. Which service will you recommend them to use?", a:"AWS Organizations"},
        {id:73, c:2, q:"You and your team are responsible for analysing logs to detect any malicious activity or threat. Your manager is concerned that it is time-consuming and unreliable to analyses logs manually so wants to use AWS managed service for this. Which service will you recommend for this purpose?", a:"Amazon GuardDuty"},
        {id:74, c:3, q:"A company wants to enable cross-region replication on the S3 bucket. Which S3 feature should be enabled before cross-region replication can be used?", a:"Versioning"},
        {id:75, c:2, q:"What is the AWS service that performs automated network assessments of Amazon EC2 instances to check for vulnerabilities?", a:"AWS Inspector"},
        {id:76, c:3, q:"Which of the following are components of the site-to-site VPN connection? (Select TWO)", a:"Virtual Private Gateway, Customer Gateway"},
        {id:77, c:3, q:"Which AWS service enables developers and data scientists to quickly and easily build, train, and deploy machine learning models at any scale?", a:"Amazon SageMaker"},
        {id:78, c:4, q:"Which of the following strategies help analyze cost in AWS?", a:"Use tags to group resources"},
        {id:79, c:3, q:"Which of the following is a fully managed extract, transform, and load (ETL) service that makes it easy for customers to prepare and load their data for analytics?", a:"AWS Glue"},
        {id:80, c:3, q:"Which service provides DNS in the AWS cloud?", a:"Route 53"},
        {id:81, c:4, q:"You are System Administrator and your company's CEO has recently come to know about the benefits of the AWS Cloud. The CEO wants to find out the savings your company will make if they migrate to the AWS Cloud. Which AWS tool will you use to estimate savings?", a:"AWS Total Cost of Ownership (TCO) calculator"},
        {id:82, c:3, q:"Which AWS database service is best suited for non-relational databases?", a:"Amazon DynamoDB"},
        {id:83, c:2, q:"As part of security review, your company has decided to make users choose strong passwords. What is the most reliable way to ensure that users are using strong passwords?", a:"Apply an IAM password policy to ensure users create appropriately strong passwords"},
        {id:84, c:4, q:"Which of the following procedures would you suggest reducing the Amazon S3 costs?", a:"Use the right combination of storage classes based on different use cases"},
        {id:85, c:1, q:"How can ELBs improve the fault tolerance of your application?", a:"By migrating workloads off failed EC2 instances"},
        {id:86, c:1, q:"As part of the AWS Migration Acceleration Program (MAP), what does AWS provide to accelerate Enterprise adoption of AWS? (Select TWO)", a:"AWS Professional Services, AWS Training"},
        {id:87, c:2, q:"Which of the following are part of AWS shared controls under the Amazon Shared Responsibility model? (Select TWO)", a:"Patch Management, Awareness & Training"},
        {id:88, c:2, q:"An organization has established a new department and hired a large number of employees who will require the same access to some of AWS services. What does AWS provide to help organize them so you do not need to assign permission to each employee individually?", a:"IAM Groups"},
        {id:89, c:3, q:"An application needs to access data in another VPN in the same region. What would enable one VPC to be connected to another VPC?", a:"Connect both VPC using VPC peering"},
        {id:90, c:4, q:"What will you include in the business case to attempt to satisfy everyone at the company regarding shifting capital expense to operating expense?", a:"Suggest that the company make dedicated hosts or reserved instance purchases and capitalize them"},
        {id:91, c:2, q:"Which AWS service can you use to download the AWS PCI report?", a:"AWS Artifact"},
        {id:92, c:4, q:"A company wants to unlink one of their accounts from the AWS Organization. How can they achieve this?", a:"Sign in as an IAM user in the master account and remove the required account"},
        {id:93, c:2, q:"In the AWS Shared responsibility Model, which of the following are the responsibility of the customer? (Select TWO)", a:"Setting password complexity, Securing VPC"},
        {id:94, c:2, q:"Which AWS service provides Rate-based rule to mitigate layer 7 DDoS attack?", a:"AWS WAF"},
        {id:95, c:2, q:"Which service can identify the user that made the API call when an Amazon EC2 instance is terminated?", a:"AWS CloudTrail"},
        {id:96, c:3, q:"You are tasked with improving the performance of a blog with read-heavy traffic. Which feature of Amazon RDS will help you with it?", a:"Read replicas"},
        {id:97, c:3, q:"Which AWS service helps customers to easily collect, process, and analyse video and data streams in real-time?", a:"Amazon Kinesis"},
        {id:98, c:3, q:"Which of the following makes it easier for you to manage and filter your resources?", a:"AWS Tagging"},
        {id:99, c:3, q:"A highly scalable application generates record document for each customer which must remain available for immediate download for up to 3 months and then must be deleted. What is the most appropriate storage medium for this user case?", a:"Store the files in Amazon S3 and create a life cycle policy to remove documents after 3 months"},
        {id:100, c:2, q:"In the AWS Shared responsibility Model, for which of the following does AWS not assume responsibility?", a:"Setting password complexity"},
        {id:101, c:3, q:"Which of the following automatically handles the deployment, from capacity provisioning, load balancing and auto-scaling but yet gives you full control over the AWS resources powering your application?", a:"AWS Elastic Beanstalk"},
        {id:102, c:1, q:"What are the benefits of the AWS Marketplace service? (Select TWO)", a:"Customers can quickly launch pre-configured software with just a few clicks, Protect customers by performing periodic security checks on listed products"},
        {id:103, c:3, q:"A company wants to build and replicate its AWS infrastructure in multiple environments. Which AWS service provides the capability for the customer to use templates to describe and then automatically provision the infrastructure resources?", a:"AWS CloudFormation"},
        {id:104, c:4, q:"A company is migrating to the AWS Cloud and wants to bring their server-bound licenses. Which EC2 pricing model supports this?", a:"Dedicated Host"},
        {id:105, c:2, q:"A company uses EBS volumes to store critical and confidential data hosted on their EC2 instances. A new mandate has been released requiring the company to encrypt data at rest. Which of the following can be used to meet this requirement?", a:"AWS KMS"},
        {id:106, c:2, q:"According to the AWS Acceptable Use Policy, which of the following statements is true regarding penetration testing of EC2 instances?", a:"Customer can perform penetration testing without permission from AWS approval but must adhere to AWS Customer Service policy for Penetration testing"},
        {id:107, c:3, q:"Company ABC has been experiencing issues with their Data Centre and has been advised to migrate some of their services to the AWS cloud. They want to use the AWS cloud as an extension to their Data Centre. Which AWS services can they use to establish the network connection? (Select TWO)", a:"Direct Connect, VPN"},
        {id:108, c:3, q:"You are writing an application which runs on EC2 instances and stores an object of size 3 GB in an S3 bucket. You want to minimize the time required to upload each item. Which API should you use to minimise upload time?", a:"MultipartUpload"},
        {id:109, c:2, q:"Which of the following AWS security resources are available to any user for free? (Select THREE)", a:"AWS Technical Guides, AWS Security Blog, AWS Whitepapers"},
        {id:110, c:2, q:"Which of the following AWS services can help you perform security assessment and regulatory compliance auditing? (Select TWO)", a:"AWS Config, AWS Inspector"},
        {id:111, c:2, q:"You suspect that AWS resources are being used for malicious activity. How can you let AWS know?", a:"Report to AWS Abuse team"},
        {id:112, c:2, q:"According to the AWS Shared Responsibility Model, for which of the following is the customer responsible? (Select THREE)", a:"NAT Instance, Security Groups, Network Access Control Lists"},
        {id:113, c:2, q:"Which service is used during the process of encrypting EBS volumes?", a:"AWS KMS"},
        {id:114, c:4, q:"Which of the following are TRUE about AWS Organizations service? (Select TWO)", a:"Unused reserved instances for EC2 are applied across the group, Consolidated billing allows you to get volume discounts on all your accounts"},
        {id:115, c:1, q:"A company has developed a web application in AWS. What should they do to ensure that the application is highly available?", a:"Deploy the application across multiple Availability Zones and Regions"},
        {id:116, c:3, q:"Which of the following statements is true of AWS regions? (Select TWO)", a:"They are composed of Availability Zones, They are physical locations around the world where AWS clusters data centers"},
        {id:117, c:2, q:"Amazon GuardDuty is a threat detection service. Which data sources GuardDuty analyse? (Select THREE)", a:"AWS CloudTrail event logs, DNS query logs, VPC Flow Logs"},
        {id:118, c:1, q:"What are the main benefits of using the AWS Service Catalog?", a:"Help employees quickly find and deploy approved IT services"},
        {id:119, c:4, q:"AWS Organizations enables you to set up consolidated billing across multiple AWS accounts.", a:"AWS Organizations"},
        {id:120, c:4, q:"Which of the following are the factors which influence CloudFront cost? (Select THREE)", a:"Invalidation Requests, HTTP/HTTPS Requests, Data Transfer OUT"},
        {id:121, c:4, q:"A customer has high availability application running on an EC2 instance which frequently writes to persistent storage. Which AWS pricing model will provide the LOWEST costs for computing resources?", a:"On-Demand Instances"},
        {id:122, c:2, q:"You have added a new employee to the 'Finance' IAM group. Which of the following statements apply to that user?", a:"Employee will inherit the permissions of 'Finance' IAM group"},
        {id:123, c:3, q:"Which of the following are TRUE about Amazon S3? (Select THREE)", a:"S3 has maximum storage capacity of 64 TB, Files can be from 0 bytes to 5 TB, Largest object that can be uploaded in a single PUT is 5 GB"},
        {id:124, c:1, q:"What are the advantages of using AWS over an on-premises data center? (Select TWO)", a:"Provides speed and agility, No capacity limits"},
        {id:125, c:2, q:"A company has a VPC with a private and public subnet. They want to enable instances in a private subnet to connect to the internet to be able to install security patches. What is the MOST secure way to enable this?", a:"NAT Gateway"},
        {id:126, c:2, q:"You have been tasked to create a new IAM user. Although the user has received all the credentials, she still cannot perform any actions on the Amazon DynamoDB shop table. What can you do to resolve this issue? (Select TWO)", a:"Create an identity-based policy, Add the user to the group that has the necessary permissions policy"},
        {id:127, c:3, q:"Which of the following is the most appropriate means for developers to store Docker container images in the AWS Cloud?", a:"Amazon Elastic Container Registry (Amazon ECR)"},
        {id:128, c:2, q:"You have been asked to enable AWS Single Sign-On (SSO) service; which service should already be set up on the account?", a:"AWS Organizations"},
        {id:129, c:2, q:"A company wants to centrally manage policies across all of their AWS accounts; which AWS service will allow this?", a:"AWS Organizations"},
        {id:130, c:3, q:"A company has 100Mbps connection and they can use it at 80% capacity to transfer 100TB data from their premise over to AWS S3. What is the MOST cost-effective and FASTER method to achieve this?", a:"AWS Snowball"},
        {id:131, c:4, q:"What does AWS Cost Explorer provide to help manage your AWS spend?", a:"Enhanced forecasting"},
        {id:132, c:4, q:"You are asked to set up a batch job that runs every Friday night. The job completes in less than 100 minutes and cannot be postponed. Which Amazon EC2 payment model should you use for the best price?", a:"Scheduled Reserved Instance"},
        {id:133, c:3, q:"You are using Amazon RDS for MySQL, which of the following features performs automatic failover when the primary database fails to respond?", a:"RDS Multi AZ"},
        {id:134, c:3, q:"Which of the following AWS Services helps customers plan migration projects by gathering information about their on-premises data centers?", a:"AWS Application Discovery Service"},
        {id:135, c:3, q:"You are asked to make an image file publicly available on the web. This file will be downloaded by customers using their browser hundreds of thousands of times. Which option will be the most cost-effective?", a:"Store the file in Amazon S3 Standard"},
        {id:136, c:3, q:"Which of the following AWS computing services is serverless?", a:"AWS Lambda"},
        {id:137, c:4, q:"What support does the Enterprise Concierge Team provide?", a:"Help with billing and accounts subject"},
        {id:138, c:2, q:"Which AWS service makes it easy for you to create and manage cryptographic keys and control their use across a wide range of AWS services and in your applications?", a:"AWS KMS"},
        {id:139, c:2, q:"What are AWS shared controls?", a:"Controls which apply to both the infrastructure layer and customer layers"},
        {id:140, c:1, q:"With AWS services, you can use as many resources as you need, as well as use them when you need them. Which of the following terms can be applied to this concept? (Select TWO)", a:"Disposable resources, Temporary resources"},
        {id:141, c:3, q:"Which of the following AWS services should you use to migrate an existing database to AWS?", a:"DMS"},
        {id:142, c:1, q:"Which of the following are benefits of using the AWS Cloud? (Select TWO)", a:"Stop guessing capacity, Increased speed and agility"},
        {id:143, c:4, q:"Which of the following affect Amazon EBS pricing? (Select THREE)", a:"Snapshots, Volume Type, Fast Snapshot Restore"},
        {id:144, c:3, q:"Which of the following are a collection of data centers within a specific region?", a:"Availability Zones"},
        {id:145, c:3, q:"Which of the following AWS services facilitate the implementation of loosely coupled architectures? (Select TWO)", a:"Elastic Load Balancing, Amazon Simple Queue Service"},
        {id:146, c:3, q:"Which of the following consist of a customer-defined key and an optional value that can make it easier to manage, search for, and filter resources?", a:"AWS Tagging"},
        {id:147, c:4, q:"What does the AWS Total Cost of Ownership (TCO) Calculator provide?", a:"Estimated savings when migrating to the AWS Cloud"},
        {id:148, c:3, q:"A client wants to use an Elastic Load Balancer which is capable of handling millions of requests per second with ultra-low latency. Which load balancer is most suitable?", a:"Network Load Balancer"},
        {id:149, c:2, q:"Which of the following AWS Identity and Access Management (IAM)'s best practice adds an extra layer of protection?", a:"Use AWS Mult-Factor Authentication (MFA) to protect the AWS account root user"},
        {id:150, c:4, q:"A company is trying to analyze the costs applied to their AWS account recently. Which of the following lists AWS usage for each service category used by an account and its IAM users?", a:"AWS Cost & Usage Report"},
        {id:151, c:3, q:"A company currently uses VM Templates to spin up virtual machines on their on-premise infrastructure. Which of the following can be used to provision another EC2 instance with identical configuration?", a:"Amazon Machine Images (AMI)"},
        {id:152, c:1, q:"A company has an application that is deployed on servers hosted in their office server room. They are looking to grow their organization's infrastructure by connecting cloud resources to the internal system. What type of deployment model will they be adopting?", a:"Hybrid"},
        {id:153, c:3, q:"What are the AWS services or features that can help you maintain fault-tolerant and highly available architecture in AWS? (Select TWO)", a:"Amazon EC2 Auto Scaling, Elastic Load Balancer"},
        {id:154, c:4, q:"Which tool can help you to compare the cost of hosting resources in AWS vs the cost of hosting in a traditional data center?", a:"AWS TCO Calculator"},
        {id:155, c:3, q:"A company has developed a media playback application but some of the devices are showing 'format not supported' error. Which of the following AWS services can help them with this issue?", a:"Amazon Elastic Transcoder"},
        {id:156, c:3, q:"Which of the following services is an AWS repository management system that allows for storing, versioning, and managing your application code?", a:"AWS CodeCommit"},
        {id:157, c:2, q:"Under the Shared Responsibility Model, which of the following are responsibilities of AWS?", a:"Securing physical infrastructure"},
        {id:158, c:3, q:"Which service can you use to set alarms to monitor AWS resources?", a:"AWS CloudWatch"},
        {id:159, c:3, q:"Which service can you use to route traffic to the endpoint that provides the best application performance for your users worldwide?", a:"AWS Global Accelerator"},
        {id:160, c:3, q:"CloudFront is used to route users to the edge location that provides the lowest amount of time delay in delivering content. Which of the following terms describes this 'time delay'?", a:"Latency"},
        {id:161, c:3, q:"Which tool or service can be used to list the number of Lambda functions in an account?", a:"AWS CLI"},
        {id:162, c:1, q:"Which of the following are building blocks of a fault-tolerant system? (Select TWO)", a:"Amazon S3, Amazon SQS"},
        {id:163, c:3, q:"Which services work together to enable auto-scaling of Amazon EC2 instances?", a:"Amazon EC2 Auto Scaling, Elastic Load Balancer, CloudWatch"},
        {id:164, c:4, q:"What does the term 'Economies of scale' mean?", a:"AWS continuously lower prices as it grows"},
        {id:165, c:1, q:"Which of the following AWS offering allows customers to find, buy, and immediately start using software solutions in their AWS environment?", a:"AWS Marketplace"},
        {id:166, c:3, q:"What is the size of the CIDR block you are permitted in an AWS VPC?", a:"/16 to /28"},
        {id:167, c:3, q:"You have a real-time application that requires sub-millisecond latency. Which of the following services would you use?", a:"Amazon ElastiCache for Redis"},
        {id:168, c:3, q:"AWS Global Accelerator provides cross-region traffic management using the AWS backbone network.", a:"AWS Global Accelerator"},
        {id:169, c:2, q:"A company is hosting an application on an EC2 instance. They want to add a new feature where users can upload their files to the S3 bucket.", a:"Create a role with sufficient permissions and attach this role to the EC2 instance"},
        {id:170, c:2, q:"A company has won a big project and has hired new employees, who are split into teams with separate permissions for each team. You have been asked to create IAM users and implement the permissions accordingly. How will you implement this?", a:"Create an IAM group for each team and assign relevant policies to each group"},
        {id:171, c:4, q:"You are using AWS Organizations and set up consolidated billing for all of your AWS accounts. If Reserved Instance sharing is NOT turned on for an account in your organization then which of the following is true.", a:"Reserved Instance discounts apply only to the account that purchased the Reserved Instance"},
        {id:172, c:4, q:"You are launching a new application but want to be alerted when your cost or usage amount exceeds a threshold. Which AWS service will enable you to set alarms to meet this requirement?", a:"AWS Budgets"},
        {id:173, c:1, q:"What is the key difference between an availability zone and an edge location?", a:"Edge Locations are not used to deploy your main infrastructures; Availability Zones are used to deploy infrastructures such as EC2 instances, EBS storage etc"},
        {id:174, c:3, q:"What AWS tools can be used to call AWS Services from different programming languages?", a:"AWS SDK"},
        {id:175, c:2, q:"According to the AWS Customer Service Policy for Penetration testing, which of the following activities are not permitted? (Select THREE)", a:"Securing VPC, Simulated DDoS, Assessment of AWS services themselves"}
    ];

    const CAT_MAP = {1: "Cloud Concepts", 2: "Security", 3: "Technology", 4: "Billing & Pricing"};

    const DISTRACTORS = {
        services: ["Amazon EC2", "AWS Lambda", "Amazon S3", "AWS Glue", "Amazon Athena", "Amazon Redshift", "AWS Snowball", "AWS Direct Connect", "Amazon RDS", "Amazon DynamoDB", "AWS CloudFormation", "AWS OpsWorks", "AWS Trusted Advisor", "AWS Config"],
        concepts: ["Agility", "Elasticity", "Scalability", "Fault Tolerance", "High Availability", "Loose Coupling", "Disposable Resources"],
        storage: ["Amazon S3", "Amazon EBS", "Amazon EFS", "Amazon Glacier", "AWS Storage Gateway"],
        security: ["AWS Shield", "AWS WAF", "AWS Inspector", "Amazon GuardDuty", "AWS KMS", "AWS Artifact", "AWS IAM", "Security Groups", "NACLs"],
        billing: ["Cost Explorer", "AWS Budgets", "TCO Calculator", "Pricing Calculator", "Consolidated Billing"]
    };

    // --- APP COMPONENT ---
    const App = () => {
        const [screen, setScreen] = React.useState('settings'); 
        const [numQuestions, setNumQuestions] = React.useState(''); 
        const [currentQIndex, setCurrentQIndex] = React.useState(0);
        const [answers, setAnswers] = React.useState({}); 
        const [quizQuestions, setQuizQuestions] = React.useState([]);
        const [error, setError] = React.useState("");
        const [reviewMode, setReviewMode] = React.useState(false); 
        const [showModal, setShowModal] = React.useState(false);
        
        const [examMode, setExamMode] = React.useState(false);
        const [timeLeft, setTimeLeft] = React.useState(0);
        const [flagged, setFlagged] = React.useState(new Set());
        const [showFlagList, setShowFlagList] = React.useState(false);
        const [history, setHistory] = React.useState(getStoredHistory());

        // Process data on init
        const processedBank = React.useMemo(() => {
            return RAW_DATA.map(q => {
                const correctArr = q.a.split(', ').map(s => s.trim());
                let choices = [...correctArr];
                const poolKey = q.c === 4 ? 'billing' : q.c === 2 ? 'security' : 'services';
                const pool = DISTRACTORS[poolKey];
                while (choices.length < 4) {
                    const random = pool[Math.floor(Math.random() * pool.length)];
                    if (!choices.includes(random) && !correctArr.includes(random)) choices.push(random);
                }
                choices = choices.sort(() => Math.random() - 0.5);
                return { ...q, choices, correct: correctArr };
            });
        }, []);

        // Key Listeners
        React.useEffect(() => {
            const handleKey = (e) => {
                if (screen !== 'quiz') return;
                if (['1','2','3','4'].includes(e.key)) {
                    const idx = parseInt(e.key) - 1;
                    if (currentQuestion && currentQuestion.choices[idx]) handleOptionClick(currentQuestion.choices[idx]);
                }
                if (e.key.toLowerCase() === 'f') toggleFlag();
                if (e.key === 'Enter') {
                    if (isSubmitted || examMode) navigation('next');
                    else checkAnswer();
                }
            };
            window.addEventListener('keydown', handleKey);
            return () => window.removeEventListener('keydown', handleKey);
        }, [screen, currentQIndex, answers, examMode]);

        // Timer
        React.useEffect(() => {
            let timer;
            if (screen === 'quiz' && examMode && timeLeft > 0) {
                timer = setInterval(() => {
                    setTimeLeft(prev => {
                        if (prev <= 1) {
                            clearInterval(timer);
                            handleFinishExam();
                            return 0;
                        }
                        return prev - 1;
                    });
                }, 1000);
            }
            return () => clearInterval(timer);
        }, [screen, examMode, timeLeft]);

        const handlePreStart = (e) => {
            if(e) e.preventDefault();
            const n = parseInt(numQuestions);
            if (isNaN(n) || n < 10 || n > 175) {
                setError("Please enter 10 - 175");
                return;
            }
            setError("");
            setShowModal(true);
        };

        const confirmStart = (mode) => {
            const n = parseInt(numQuestions);
            const shuffled = [...processedBank].sort(() => Math.random() - 0.5).slice(0, n);
            setQuizQuestions(shuffled);
            setScreen('quiz');
            setShowModal(false);
            setCurrentQIndex(0);
            setAnswers({});
            setFlagged(new Set());
            setReviewMode(false);
            
            const isExam = mode === 'exam';
            setExamMode(isExam);
            if (isExam) {
                setTimeLeft(n * 90); 
            }
        };

        const handleFinishExam = () => {
            const finalAnswers = {...answers};
            quizQuestions.forEach(q => {
                const ans = finalAnswers[q.id];
                if (ans) {
                    const correctSet = new Set(q.correct);
                    const selectedSet = new Set(ans.selected);
                    ans.isCorrect = correctSet.size === selectedSet.size && [...selectedSet].every(v => correctSet.has(v));
                    ans.isSubmitted = true;
                }
            });
            
            const correct = Object.values(finalAnswers).filter(a => a.isCorrect).length;
            const score = Math.round((correct / quizQuestions.length) * 100);
            const newHistory = [...history, { date: Date.now(), score }];
            if(newHistory.length > 20) newHistory.shift();
            
            setHistory(newHistory);
            saveHistory(newHistory);
            setAnswers(finalAnswers);
            setScreen('results');
        };

        const handleReviewWrongs = () => {
            const wrongQuestions = quizQuestions.filter(q => {
                const ans = answers[q.id];
                return !ans || !ans.isCorrect;
            });
            if (wrongQuestions.length === 0) return;
            setQuizQuestions(wrongQuestions);
            setCurrentQIndex(0);
            setAnswers({});
            setFlagged(new Set());
            setScreen('quiz');
            setReviewMode(true);
            setExamMode(false);
        };

        const toggleFlag = () => {
            const id = quizQuestions[currentQIndex].id;
            const newFlagged = new Set(flagged);
            if (newFlagged.has(id)) newFlagged.delete(id);
            else newFlagged.add(id);
            setFlagged(newFlagged);
        };

        const currentQuestion = quizQuestions[currentQIndex];
        const currentAnswerState = answers[currentQuestion?.id];
        const isSubmitted = currentAnswerState?.isSubmitted;

        const handleOptionClick = (option) => {
            if (isSubmitted && !examMode) return;
            const requiredCount = currentQuestion.correct.length;
            const isMultiSelect = requiredCount > 1;
            let newSelected = currentAnswerState?.selected || [];

            if (isMultiSelect) {
                if (newSelected.includes(option)) {
                    newSelected = newSelected.filter(o => o !== option);
                } else {
                    if (newSelected.length < requiredCount) newSelected = [...newSelected, option];
                }
            } else {
                newSelected = [option];
            }

            setAnswers(prev => ({
                ...prev,
                [currentQuestion.id]: { selected: newSelected, isCorrect: false, isSubmitted: false }
            }));
        };

        const checkAnswer = () => {
            const selected = currentAnswerState?.selected || [];
            if (selected.length === 0) return;
            const correctSet = new Set(currentQuestion.correct);
            const selectedSet = new Set(selected);
            const isCorrect = correctSet.size === selectedSet.size && [...selectedSet].every(v => correctSet.has(v));
            setAnswers(prev => ({
                ...prev,
                [currentQuestion.id]: { selected, isCorrect, isSubmitted: true }
            }));
        };

        const navigation = (direction) => {
            if (direction === 'next') {
                if (currentQIndex < quizQuestions.length - 1) setCurrentQIndex(p => p + 1);
                else handleFinishExam();
            }
            else if (direction === 'prev' && currentQIndex > 0) setCurrentQIndex(p => p - 1);
        };

        const getContextLink = (qText) => {
            const term = qText.split(' ').slice(0, 5).join(' ');
            return `https://docs.aws.amazon.com/search/doc-search.html?searchPath=documentation-guide&searchQuery=${encodeURIComponent(term)}`;
        };

        // --- RENDERERS ---

        const HistoryChart = ({ history }) => {
            const canvasRef = React.useRef(null);
            React.useEffect(() => {
                if (!canvasRef.current || history.length === 0) return;
                const ctx = canvasRef.current.getContext('2d');
                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: history.map((_, i) => i + 1),
                        datasets: [{
                            label: 'Score %',
                            data: history.map(h => h.score),
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: { y: { min: 0, max: 100, grid: { color: '#334155' } }, x: { display: false } },
                        plugins: { legend: { display: false } }
                    }
                });
            }, [history]);
            if (history.length < 2) return <div className="text-slate-500 text-sm text-center py-8">Complete more exams to see trends.</div>;
            return <canvas ref={canvasRef} />;
        };

        if (screen === 'settings') {
            return (
                <div className="w-full h-full flex flex-col items-center justify-center p-6 bg-slate-900 relative">
                    <div className="text-center anim-enter relative z-10">
                        <h1 className="text-5xl font-extrabold mb-12 tracking-tight text-white">AWS Reviewer</h1>
                        
                        <form onSubmit={handlePreStart} className="flex flex-col items-center gap-8">
                            <div className="relative group">
                                <input 
                                    type="number" 
                                    value={numQuestions}
                                    onChange={(e) => {
                                        setNumQuestions(e.target.value);
                                        setError("");
                                    }}
                                    placeholder="# of Qs (min 10)"
                                    className="minimal-input"
                                    autoFocus
                                />
                                {error && <div className="absolute -bottom-8 left-0 right-0 text-red-400 text-sm font-semibold animate-pulse">{error}</div>}
                            </div>
                            
                            <div className="text-slate-500 text-sm font-mono tracking-wider uppercase">
                                Total Available: 175
                            </div>

                            <button type="submit" className="mt-4 px-12 py-3 rounded-full border border-slate-700 hover:border-slate-500 hover:bg-slate-800 text-slate-300 hover:text-white transition-all text-sm font-bold tracking-widest uppercase">
                                Start Study
                            </button>
                        </form>
                    </div>
                    
                    <div className="fixed bottom-6 text-[10px] text-slate-700 tracking-widest uppercase font-bold opacity-30 select-none pointer-events-none">
                        Made by: Marc
                    </div>

                    {/* MODE MODAL */}
                    {showModal && (
                        <div className="absolute inset-0 z-50 flex items-center justify-center modal-overlay p-4">
                            <div className="bg-slate-900 border border-slate-700 p-8 rounded-3xl max-w-2xl w-full shadow-2xl anim-enter flex flex-col md:flex-row gap-6">
                                <div className="flex-1 bg-slate-800/50 p-6 rounded-2xl border border-slate-700 hover:border-blue-500 transition-colors cursor-pointer group" onClick={() => confirmStart('study')}>
                                    <div className="text-3xl mb-4 group-hover:scale-110 transition-transform"></div>
                                    <h3 className="text-xl font-bold text-white mb-2">Standard Study</h3>
                                    <p className="text-slate-400 text-sm leading-relaxed">
                                        Learn at your own pace. Get instant feedback after every question. Perfect for reviewing concepts.
                                    </p>
                                </div>

                                <div className="flex-1 bg-slate-800/50 p-6 rounded-2xl border border-slate-700 hover:border-orange-500 transition-colors cursor-pointer group" onClick={() => confirmStart('exam')}>
                                    <div className="text-3xl mb-4 group-hover:scale-110 transition-transform"></div>
                                    <h3 className="text-xl font-bold text-white mb-2">Exam Simulation</h3>
                                    <p className="text-slate-400 text-sm leading-relaxed">
                                        Mimic real test conditions. Timed session with no immediate feedback. Review answers at the end.
                                    </p>
                                </div>
                            </div>
                            <button onClick={() => setShowModal(false)} className="absolute top-8 right-8 text-slate-400 hover:text-white">
                                <svg className="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                            </button>
                        </div>
                    )}
                </div>
            );
        }

        if (screen === 'results') {
            const attempted = Object.values(answers).length;
            const correctCount = Object.values(answers).filter(a => a.isCorrect).length;
            const accuracy = attempted === 0 ? 0 : Math.round((correctCount / attempted) * 100);
            const passed = accuracy >= 70;
            
            const catStats = {1: {total:0, correct:0}, 2: {total:0, correct:0}, 3: {total:0, correct:0}, 4: {total:0, correct:0}};
            quizQuestions.forEach(q => {
                if (answers[q.id]) {
                    catStats[q.c].total++;
                    if (answers[q.id].isCorrect) catStats[q.c].correct++;
                }
            });

            const renderCategoryBar = (catId) => {
                const s = catStats[catId];
                const pct = s.total === 0 ? 0 : Math.round((s.correct / s.total) * 100);
                const color = pct >= 70 ? 'bg-green-500' : pct >= 40 ? 'bg-orange-500' : 'bg-red-500';
                return (
                    <div className="mb-4">
                        <div className="flex justify-between text-xs font-bold uppercase tracking-wider mb-1 text-slate-400">
                            <span>{CAT_MAP[catId]}</span>
                            <span>{pct}% ({s.correct}/{s.total})</span>
                        </div>
                        <div className="w-full bg-slate-800 h-2 rounded-full overflow-hidden">
                            <div className={`h-full ${color} transition-all duration-500`} style={{width: `${pct}%`}}></div>
                        </div>
                    </div>
                );
            };

            return (
                <div className="w-full h-full flex items-center justify-center p-4 overflow-y-auto">
                    <div className="glass-panel p-8 rounded-3xl anim-enter max-w-5xl w-full flex flex-col gap-8">
                        <div className="text-center mb-4">
                            <h2 className="text-3xl font-bold mb-2">Exam Analysis</h2>
                            <p className="text-slate-400 text-sm uppercase tracking-widest">{reviewMode ? "Review Session" : examMode ? "Exam Simulation" : "Study Session"}</p>
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                            <div className="flex flex-col items-center justify-center bg-slate-900/50 p-8 rounded-3xl border border-slate-700">
                                <div className="relative w-40 h-40 mb-4">
                                    <svg viewBox="0 0 36 36" className="circular-chart">
                                        <path className="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                        <path className="circle" stroke={passed ? "#4ade80" : "#f87171"} strokeDasharray={`${accuracy}, 100`} d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                    </svg>
                                    <div className="absolute inset-0 flex flex-col items-center justify-center">
                                        <span className={`text-4xl font-bold ${passed ? 'text-green-400' : 'text-red-400'}`}>{accuracy}%</span>
                                    </div>
                                </div>
                                <div className="text-xl font-bold text-white mb-1">{passed ? "PASSED" : "FAILED"}</div>
                            </div>

                            <div className="w-full bg-slate-900/50 p-8 rounded-3xl border border-slate-700 flex flex-col justify-center">
                                <h3 className="text-sm font-bold text-slate-300 uppercase mb-6 border-b border-slate-700 pb-2">Domain Performance</h3>
                                {renderCategoryBar(1)} {renderCategoryBar(2)} {renderCategoryBar(3)} {renderCategoryBar(4)}
                            </div>

                            <div className="w-full bg-slate-900/50 p-8 rounded-3xl border border-slate-700 flex flex-col">
                                <h3 className="text-sm font-bold text-slate-300 uppercase mb-4 border-b border-slate-700 pb-2">History</h3>
                                <div className="flex-1 flex items-end">
                                    <HistoryChart history={history} />
                                </div>
                            </div>
                        </div>

                        {/* DETAILED QUESTION REVIEW */}
                        <div className="w-full mt-8">
                            <h3 className="text-xl font-bold mb-4 border-b border-slate-700 pb-2">Detailed Question Review</h3>
                            <div className="space-y-4 max-h-96 overflow-y-auto pr-2">
                                {quizQuestions.map((q, i) => {
                                    const userAns = answers[q.id]?.selected || [];
                                    const isCorrect = answers[q.id]?.isCorrect;
                                    return (
                                        <div key={q.id} className={`p-4 rounded-xl border ${isCorrect ? 'border-green-500/30 bg-green-900/10' : 'border-red-500/30 bg-red-900/10'}`}>
                                            <div className="font-bold text-slate-300 mb-2 flex gap-2">
                                                <span className="text-slate-500 flex-shrink-0">Q{i+1}.</span> 
                                                <span>{q.q}</span>
                                            </div>
                                            <div className="text-sm grid grid-cols-1 md:grid-cols-2 gap-4 mt-3">
                                                <div className="bg-slate-900/50 p-3 rounded-lg border border-slate-800">
                                                    <span className="text-[10px] text-slate-500 uppercase font-bold block mb-1">Your Answer</span>
                                                    <span className={isCorrect ? "text-green-400 font-medium" : "text-red-400 font-medium"}>{userAns.join(', ') || 'Skipped'}</span>
                                                </div>
                                                {!isCorrect && (
                                                    <div className="bg-slate-900/50 p-3 rounded-lg border border-slate-800">
                                                        <span className="text-[10px] text-slate-500 uppercase font-bold block mb-1">Correct Answer</span>
                                                        <span className="text-green-400 font-medium">{q.correct.join(', ')}</span>
                                                    </div>
                                                )}
                                            </div>
                                        </div>
                                    )
                                })}
                            </div>
                        </div>

                        <div className="flex gap-4 mt-4">
                            <button onClick={() => setScreen('settings')} className="flex-1 bg-slate-700 hover:bg-slate-600 py-4 rounded-xl font-bold transition-all text-sm uppercase tracking-wide">Exit to Home</button>
                            <button onClick={handleReviewWrongs} disabled={accuracy === 100} className={`flex-1 py-4 rounded-xl font-bold transition-all text-sm uppercase tracking-wide ${accuracy === 100 ? 'bg-slate-800 text-slate-600 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-500 text-white shadow-lg hover:scale-[1.02]'}`}>
                                {accuracy === 100 ? "Perfect Score!" : "Review Wrongs"}
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        const isMulti = currentQuestion.correct.length > 1;
        const selectedOptions = currentAnswerState?.selected || [];
        const isFlagged = flagged.has(currentQuestion.id);

        const formatTime = (seconds) => {
            const m = Math.floor(seconds / 60);
            const s = seconds % 60;
            return `${m}:${s < 10 ? '0' : ''}${s}`;
        };

        return (
            <div className="flex flex-col h-full w-full max-w-6xl mx-auto md:p-6">
                <div className="flex-none bg-slate-900/80 border-b border-slate-800 p-4 md:rounded-t-2xl md:border-x md:border-t flex justify-between items-center z-10 backdrop-blur-md">
                    <div className="flex gap-4 items-center">
                        <button onClick={() => setScreen('settings')} className="text-slate-500 hover:text-white"><svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>
                        {examMode && <div className="font-mono font-bold text-orange-400 text-lg flex items-center gap-2 bg-orange-900/20 px-3 py-1 rounded-lg border border-orange-900/50"><svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>{formatTime(timeLeft)}</div>}
                    </div>
                    
                    <button onClick={() => setShowFlagList(!showFlagList)} className="text-sm font-bold text-slate-400 hover:text-white flex items-center gap-2 px-3 py-1.5 rounded-lg border border-slate-700 hover:border-slate-500 transition-all">
                        {flagged.size} FLAGGED <svg className={`w-4 h-4 transition-transform ${showFlagList ? 'rotate-180' : ''}`} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>

                    <div className="flex gap-4 text-sm font-mono text-slate-400">
                        <span>Q: {currentQIndex + 1}/{quizQuestions.length}</span>
                    </div>
                </div>

                {showFlagList && (
                    <div className="absolute top-20 right-4 md:right-10 w-64 bg-slate-800 border border-slate-700 rounded-xl shadow-2xl z-50 p-4 grid grid-cols-5 gap-2 max-h-60 overflow-y-auto">
                        {quizQuestions.map((q, idx) => (
                            <button 
                                key={q.id} 
                                onClick={() => { setCurrentQIndex(idx); setShowFlagList(false); }}
                                className={`w-10 h-10 rounded-lg font-bold text-xs flex items-center justify-center ${
                                    flagged.has(q.id) ? 'bg-orange-500/20 text-orange-400 border border-orange-500' : 
                                    answers[q.id]?.selected?.length > 0 ? 'bg-blue-500/20 text-blue-400' : 'bg-slate-700 text-slate-400'
                                }`}
                            >
                                {idx + 1}
                            </button>
                        ))}
                    </div>
                )}

                <div className="flex-1 flex flex-col md:flex-row overflow-hidden bg-slate-900 md:border-x md:border-slate-800">
                    <div className="flex-1 p-6 md:p-10 flex flex-col justify-center border-b md:border-b-0 md:border-r border-slate-800 overflow-y-auto relative">
                        <button 
                            onClick={toggleFlag} 
                            className={`absolute top-6 right-6 px-4 py-2 rounded-lg font-bold text-xs flex items-center gap-2 transition-colors border shadow-sm ${isFlagged ? 'bg-orange-500 text-white border-orange-600 shadow-orange-900/20' : 'bg-slate-800 text-slate-400 border-slate-700 hover:border-slate-500'}`}
                        >
                            <svg className="w-4 h-4" fill={isFlagged ? "currentColor" : "none"} stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M3 21v-8a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5-5 5v3.5L9 21z"></path></svg>
                            {isFlagged ? 'FLAGGED' : 'FLAG'}
                        </button>
                        <span className="category-pill bg-blue-900/30 text-blue-300 border border-blue-800 mb-4 self-start">{CAT_MAP[currentQuestion.c]}</span>
                        <h2 className="text-2xl md:text-3xl font-semibold leading-relaxed mb-6">{currentQuestion.q}</h2>
                        {isMulti && <span className="text-xs font-bold text-orange-400 bg-orange-900/20 px-2 py-1 rounded border border-orange-900 self-start">SELECT {currentQuestion.correct.length}</span>}
                    </div>

                    <div className="flex-1 bg-slate-800/30 p-4 md:p-8 overflow-y-auto flex flex-col justify-center">
                        <div className="grid gap-3 w-full max-w-xl mx-auto">
                            {currentQuestion.choices.map((choice, idx) => {
                                let isSelected = (currentAnswerState?.selected || []).includes(choice);
                                let isCorrect = currentQuestion.correct.includes(choice);
                                let styles = "option-card relative p-5 rounded-xl border-2 text-left font-medium flex items-center gap-4 transition-all ";
                                
                                if (!isSubmitted || examMode) {
                                    styles += isSelected ? "border-blue-500 bg-blue-500/10 text-blue-100" : "border-slate-700 bg-slate-800/50 text-slate-400 hover:border-slate-600";
                                } else {
                                    if (isCorrect) styles += "border-green-500 bg-green-500/10 text-green-100";
                                    else if (isSelected) styles += "border-red-500 bg-red-500/10 text-red-100 opacity-60";
                                    else styles += "border-slate-800 bg-slate-900/50 text-slate-600 opacity-40";
                                }

                                return (
                                    <button key={idx} onClick={() => handleOptionClick(choice)} disabled={isSubmitted && !examMode} className={styles}>
                                        <div className="w-6 h-6 flex-shrink-0 flex items-center justify-center font-mono text-xs text-slate-500 border border-slate-600 rounded mr-2">{idx + 1}</div>
                                        <span>{choice}</span>
                                    </button>
                                );
                            })}
                        </div>
                    </div>
                </div>

                <div className="flex-none bg-slate-900 border-t border-slate-800 p-4 md:rounded-b-2xl md:border-x md:border-b flex flex-col gap-4">
                    {isSubmitted && !examMode && (
                        <div className="bg-slate-800/80 border-l-4 border-blue-500 p-4 rounded-r-lg flex justify-between items-center anim-enter">
                            <div>
                                <p className="text-slate-300 text-sm mb-1"><strong>Correction:</strong> {currentQuestion.correct.join(", ")}</p>
                                <p className="text-slate-400 text-xs">{currentQuestion.explanation}</p>
                            </div>
                            <a href={getContextLink(currentQuestion.q)} target="_blank" className="text-blue-400 hover:text-blue-300 text-xs font-bold uppercase tracking-wider flex items-center gap-1">
                                Learn More <svg className="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg>
                            </a>
                        </div>
                    )}
                    <div className="flex justify-between">
                        <button onClick={() => navigation('prev')} disabled={currentQIndex===0} className="px-6 py-3 rounded-lg text-slate-400 hover:bg-slate-800 disabled:opacity-30">Previous</button>
                        
                        {!isSubmitted && !examMode ? 
                            <button onClick={checkAnswer} disabled={selectedOptions.length===0} className="px-8 py-3 rounded-xl bg-blue-600 hover:bg-blue-500 text-white font-bold disabled:opacity-50 disabled:cursor-not-allowed">Check Answer </button> :
                            <button onClick={() => navigation('next')} className={`px-8 py-3 rounded-xl text-white font-bold ${currentQIndex === quizQuestions.length-1 ? 'bg-green-600 hover:bg-green-500' : 'bg-blue-600 hover:bg-blue-500'}`}>
                                {currentQIndex === quizQuestions.length-1 ? 'Finish Exam' : 'Next Question '}
                            </button>
                        }
                    </div>
                </div>
            </div>
        );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);

</script>
</body>
</html>
